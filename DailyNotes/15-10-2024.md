# 1.WorksPad
1. Настройка nginx
	1. 
	2. сертификаты
		1. [[Debian_CA]]
2. postgresql #psql #postresql 
	1. workspad / Bullsh_WPad
	2.   
```sql
	   su - postgres
	   createuser cent
	   createdb testdb -O cent
	   psql -c "select usename from pg_user;"
	   psql -l
	   
```


- To open the port 5432 edit your 
	`/etc/postgresql/9.1/main/postgresql.conf`
	and change
	`   listen_addresses='localhost'   `
	to
	`   listen_addresses='*'   `
	and restart your DBMS
	`   invoke-rc.d postgresql restart   `
	now you can connect with
	`   $ psql -h hostname -U username -d database   `
	if you are unable to authentify yourself, then you need to give your user access rights to your database
	Edit your
	`   /etc/postgresql/9.1/main/pg_hba.conf   `
	and add
	`   host all all all md5   `
	(This is for a wide open access. For stricter control, consult the pg_hba.conf documentation and adjust according to your needs).Hereafter you need also a reload
	`   invoke-rc.d postgresql reload   `
	I don't need to mention that this is a basic configuration, now you should think about modify your firewall and improve the security of your DBMS.

1. Samba
	1. Здесь приведена простейшая беспарольная конфигурация, с анонимным доступом:

> [!note]
> **/etc/samba/smb.conf**


|   |
|---|
|`[global]`<br><br>   `workgroup = WORKGROUP`<br><br>   `server string = Media Server`<br><br>   `security = user`<br><br>   `map to guest = Bad User`<br><br>   `log file = /var/log/samba/%m.log`<br><br>   `max log size = 50`<br><br>   `guest account = nobody`<br><br>   `dns proxy = no`<br><br>`[share]`<br><br>   `path = /var/lib/samba/share`<br><br>   `guest ok = yes`<br><br>   `public = yes`<br><br>   `writable = yes`<br><br>   `available = yes`|

Директории дать права 0775 и сделать владельцем пользователя nobody, группу nogroup:

```
sudo chown nobody:nogroup /var/lib/samba/share

sudo chmod 0775 /var/lib/samba/share
```

На клиенте установить пакет `cifs-utils`

```
sudo apt-get install cifs-utils
```

Выполнить команду монтирования (от имени суперпользователя) с указанием адреса и папки сервера, например:

```
sudo mount -t cifs //10.0.10.201/share /mnt -o users,sec=none
```

В случае, если необходим полный доступ к файлам из Windows и Astra Linux, добавить в секцию "share":

> [!NOTE]
> create mask = 0777
> 
> directory mask = 0777
> 
> force create mode = 777
> 
> force directory mode = 777

На клиенте  список шар
```
smbclient -L 10.38.22.52 -N
```
подключение к шаре
```
smbclient //10.38.22.52/WorksPad -N
```

### 3. Администрирование

/opt/workspad/GatewayService/appsettings.json

> [!Settings]
> "LocalAdmin": {
> 
> "Enabled": true,
> 
> "Password": "wpAdmin123"
> 
> },