#learn #linux #alt #bash
1. **Вопрос:** Получите список групп пользователей в системе, отсортированный по GID в обратном числовом порядке.

**Ответ:** Для получения списка групп пользователей, отсортированного по GID в обратном числовом порядке, можно воспользоваться командой 
**`cat /etc/group | sort -n -r -k3`**

Команда `cat /etc/group | sort -n -r -k3` используется для вывода содержимого файла `/etc/group`, а затем сортировки этого вывода по третьему столбцу в обратном порядке.

	Вот подробное разъяснение аргументов и переменных в этой команде:
	1. `cat`: Это утилита Unix/Linux, используемая для вывода содержимого файлов. В данном случае, `cat` используется для вывода содержимого файла `/etc/group`.
	2. `/etc/group`: Это путь к файлу, содержащему информацию о группах пользователей в системе Unix/Linux. Этот файл содержит строки, каждая из которых представляет информацию о конкретной группе.
	3. `|` (вертикальная черта): Это оператор конвейера (pipeline), который направляет вывод одной команды вводу другой команды. В данной команде он направляет вывод `cat /etc/group` на ввод команды `sort`.
	4. `sort`: Эта команда используется для сортировки строк текстового ввода. В данном контексте она будет сортировать вывод, полученный от `cat /etc/group`.
	5. `-n`: Этот аргумент `sort` указывает на нечисловую сортировку. Он обеспечивает сортировку строк текста в порядке, который соответствует их числовому значению.
	6. `-r`: Этот аргумент `sort` указывает на обратный порядок сортировки. То есть строки будут отсортированы в обратном порядке, начиная с наибольшего значения.
	7. `-k3`: Этот аргумент `sort` указывает на то, что сортировка должна производиться по третьему столбцу. В файле `/etc/group` третий столбец содержит идентификаторы группы (GID), и мы сортируем строки по этому столбцу.


2. **Вопрос:** С помощью утилит find, head и sort получите список из десяти файлов в домашнем каталоге, занимающих наибольшее дисковое пространство.

**Ответ:** Для этого можно использовать комбинацию утилит `find`, `du`, `sort` и `head`. Команда будет выглядеть примерно так: 
`find ~ -type f -exec du -h {} + | sort -rh | head -n 10`
	 Эта команда найдет все файлы в домашнем каталоге (`~`), затем посчитает их размеры с помощью `du`, сортирует результаты в обратном порядке по размеру и выводит первые 10 файлов с наибольшим размером.

Команда `find ~ -type f -exec du -h {} + | sort -rh | head -n 10` используется для поиска всех файлов в домашней директории пользователя, затем подсчета их размера и вывода 10 наиболее крупных файлов.

	Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
	
	1. `find`: Это утилита Unix/Linux, используемая для поиска файлов и каталогов в файловой системе. В данном случае, она будет искать файлы в указанной директории.
	2. `~`: Это символ, обозначающий домашнюю директорию текущего пользователя. В данной команде `~` указывает `find` начать поиск файлов с домашней директории пользователя.
	3. `-type f`: Этот аргумент `find` указывает на то, что нужно искать только обычные файлы (не каталоги, не ссылки и т.д.).
	4. `-exec`: Этот аргумент `find` используется для выполнения команды для каждого найденного файла.
	5. `du -h {} +`: Это команда `du` с аргументами `-h` для вывода размера файлов в удобном для чтения формате (в гигабайтах, мегабайтах и т.д.). `{}` является заполнителем, который будет заменен именем найденного файла. `+` указывает на то, что `du` должен обрабатывать несколько файлов за один вызов.
	6. `|`: Это оператор конвейера (pipeline), который направляет вывод одной команды на ввод другой команды. В данном случае, вывод команды `du -h` будет направлен на ввод команды `sort`.
	7. `sort -rh`: Это команда `sort` с аргументами `-rh`. `-r` указывает на обратный порядок сортировки (от большего к меньшему), а `-h` указывает на сортировку в "гуманном" формате, который учитывает размеры файлов в удобном для чтения формате.
	8. `head -n 10`: Это команда `head` с аргументом `-n 10`, которая выводит только первые 10 строк из ввода. В данном случае, она выводит 10 наиболее крупных файлов, которые были отсортированы командой `sort`.

3. **Вопрос:** Определите, используя файл /etc/passwd, содержащий данные об учетных записях пользователей, сколько пользователей зарегистрировано в системе.

**Ответ:** Для подсчета количества пользователей можно воспользоваться командой `cat /etc/passwd | wc -l`
 Эта команда считает количество строк в файле `/etc/passwd`, каждая строка соответствует одной учетной записи пользователя.

	Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
	
	1. `cat`: Это утилита Unix/Linux, используемая для вывода содержимого файлов. В данном случае, `cat` используется для вывода содержимого файла `/etc/passwd`.
	2. `/etc/passwd`: Это путь к файлу, который содержит информацию о пользователях системы, такую как их имена, идентификаторы (UID), домашние каталоги и т.д.
	3. `|`: Это оператор конвейера (pipeline), который направляет вывод одной команды на ввод другой команды. В данном случае, он направляет вывод `cat /etc/passwd` на ввод команды `wc`.
	4. `wc`: Это утилита Unix/Linux, используемая для подсчета количества строк, слов и символов в текстовом вводе.
	5. `-l`: Этот аргумент `wc` указывает на то, что нужно подсчитывать только количество строк во вводе.

4. **Вопрос:** Определите для скольких пользователей оболочкой по умолчанию является bash.

**Ответ:** Для этого можно воспользоваться командой 
`grep -c '/bash$' /etc/passwd`
	 Эта команда найдет строки, в которых оболочка по умолчанию оканчивается на "/bash" и подсчитает их количество.

Команда `grep -c '/bash$' /etc/passwd` используется для поиска строк в файле `/etc/passwd`, которые содержат `/bash` в конце строки, и подсчета количества найденных совпадений.

	Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
		1. `grep`: Это утилита Unix/Linux, используемая для поиска строк в текстовых файлах по заданному шаблону. В данном случае, `grep` будет искать строки, соответствующие шаблону `/bash$`.
		2. `-c`: Этот аргумент `grep` указывает на то, что нужно вывести только количество строк, содержащих совпадения с заданным шаблоном, а не сами совпадения.
		3. `'/bash$'`: Это регулярное выражение, которое задает шаблон поиска. `/bash$` означает строку, которая оканчивается на `/bash`.
		4. `/etc/passwd`: Это путь к файлу, который будет просмотрен утилитой `grep`. Файл `/etc/passwd` содержит информацию о пользователях системы.
	    

5. **Вопрос:** Сколько имеется пользователей, UID которых больше 100?

**Ответ:** Для этого можно воспользоваться командой 
`awk -F: '$3 > 100 {count++} END {print count}' /etc/passwd`
	 Эта команда использует `awk` для проверки каждой строки файла `/etc/passwd` и подсчитывает количество пользователей, у которых UID (третье поле) больше 100.

Команда `awk -F: '$3 > 100 {count++} END {print count}' /etc/passwd` используется для обработки содержимого файла `/etc/passwd` с использованием утилиты AWK. Она считает количество пользователей с идентификаторами UID (user ID), превышающими 100.

	Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
		1. `awk`: AWK - это язык программирования и утилита для обработки и анализа текстовых файлов. Он используется для выполнения действий на основе шаблонов и правил, заданных в программе AWK.
		2. `-F:`: Этот аргумент устанавливает разделитель полей для AWK. В данном случае, разделителем является символ ":". Таким образом, AWK будет разделять строки файла на поля, используя ":" в качестве разделителя.
		3. `'$3 > 100 {count++}'`: Это основная часть программы AWK, которая выполняется для каждой строки в файле. Она проверяет значение третьего поля (UID) в строке. Если значение UID больше 100, то увеличивает счетчик `count` на единицу.
		4. `END {print count}`: Это часть программы AWK, которая выполняется после обработки всех строк файла. Она выводит значение переменной `count`, которая содержит количество пользователей с UID больше 100.
		5. `/etc/passwd`: Это путь к файлу `/etc/passwd`, который содержит информацию о пользователях системы, включая их UID в третьем поле каждой строки.
	    

6. **Вопрос:** Выведите пронумерованный список файлов в текущем каталоге.

**Ответ:** Для этого можно воспользоваться командой 
`ls -1 | cat -n`
	 Эта команда выводит список файлов в текущем каталоге с номерами строк, что позволяет пронумеровать файлы.

Команда `ls -1 | cat -n` используется для вывода списка файлов и каталогов в текущей директории, пронумерованных по порядку.

Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
	1. `ls`: Это утилита Unix/Linux, используемая для вывода списка файлов и каталогов в указанной директории.
	2. `-1`: Этот аргумент `ls` указывает на то, что нужно выводить каждый элемент списка в отдельной строке. Это обеспечивает простой формат вывода, где каждый файл или каталог находится на отдельной строке.
	3. `|`: Это оператор конвейера (pipeline), который направляет вывод одной команды на ввод другой команды. В данном случае, он направляет вывод `ls -1` на ввод команды `cat -n`.
	4. `cat`: Это утилита Unix/Linux, используемая для конкатенации и вывода содержимого файлов. Здесь она используется без аргументов, поэтому просто принимает ввод из предыдущей команды.
	5. `-n`: Этот аргумент `cat` используется для нумерации строк во входных данных. Он добавляет номер каждой строки перед ее содержимым.


7. **Вопрос:** Получите столбец из имен пользователей, находящийся в данный момент в сеансе.

**Ответ:** Для этого можно воспользоваться командой `w | awk '{print $1}'`. Эта команда использует `w` для вывода информации о текущих сеансах, а затем `awk` для извлечения первого столбца, содержащего имена пользователей.

Команда `w | awk '{print $1}'` используется для вывода имен пользователей, которые в данный момент вошли в систему.

Вот подробное разъяснение аргументов, переменных и знаков в этой команде:
	1. `w`: Это утилита Unix/Linux, используемая для отображения информации о текущих пользователях системы, а также о том, как они используют ресурсы системы (например, время входа в систему, запущенные процессы и т. д.).
	2. `|`: Это оператор конвейера (pipeline), который направляет вывод одной команды на ввод другой команды. В данном случае, он направляет вывод команды `w` на ввод команды `awk`.
	3. `awk`: AWK - это язык программирования и утилита для обработки и анализа текстовых файлов. Он используется для выполнения различных операций с данными в текстовых файлах или выводе других команд.
	4. `'{print $1}'`: Это основная часть программы AWK, которая выполняется для каждой строки ввода. В данном случае, она выводит первое поле (разделенное пробелом) каждой строки. В контексте вывода команды `w`, первое поле содержит имена пользователей, которые вошли в систему.


8. **Вопрос:** Выведите список тех файлов текущего каталога, для которых можно найти в этом каталоге файлы, первые три символа в именах которых совпадают не менее, чем у двух файлов. Приведите два примера решения, используя awk и sed.

**Ответ:**

- Пример с использованием `awk`:
      
    `ls | awk '{print substr($0, 1, 3)}' | sort | uniq -d | while read -r prefix; do ls | grep "^$prefix"; done`
    
    В этом примере команда `ls` выводит список файлов, затем `awk` извлекает первые три символа из каждого имени файла, `sort` сортирует их, `uniq -d` оставляет только повторяющиеся строки (т.е. префиксы, которые совпадают у нескольких файлов), а затем `while read -r prefix; do ls | grep "^$prefix"; done` выводит файлы, имена которых начинаются с этих префиксов.
	
	1. `ls`: Эта команда используется для вывода содержимого текущего каталога. Она перечисляет все файлы и каталоги, находящиеся в текущем рабочем каталоге.
	2. `|`: Этот символ (вертикальная черта) используется для передачи вывода одной команды в качестве ввода другой команде. В данном случае он передает вывод команды `ls` на вход команды `awk`.
	3. `awk '{print substr($0, 1, 3)}'`: Это команда `awk`, которая обрабатывает вывод команды `ls`. Она использует функцию `substr` для извлечения первых трех символов из каждой строки вывода команды `ls`. Флаг `{print}` указывает `awk` на то, что нужно вывести результат на экран.
	4. `|`: Второй символ вертикальной черты используется для передачи вывода `awk` на вход команды `sort`.
	5. `sort`: Эта команда сортирует строки в лексикографическом порядке по умолчанию. В данном случае она сортирует список первых трех символов файлов по алфавиту.
	6. `|`: Третий символ вертикальной черты используется для передачи вывода `sort` на вход команды `uniq`.
	7. `uniq -d`: Эта команда `uniq` удаляет дублирующиеся строки из ввода, оставляя только уникальные. Флаг `-d` указывает ей выводить только повторяющиеся строки.
	8. `|`: Четвертый символ вертикальной черты используется для передачи вывода `uniq` на вход команды `while`.
	9. `while read -r prefix; do ls | grep "^$prefix"; done`: Это цикл `while`, который читает каждую строку из вывода `uniq` и присваивает ее переменной `prefix`. Затем он выполняет команду `ls | grep "^$prefix"`, которая выводит только те файлы, имена которых начинаются с префикса, полученного из предыдущих шагов. `grep "^$prefix"` ищет строки, начинающиеся с содержимого переменной `prefix` и выводит их на экран.


- Пример с использованием `sed`:
      
    `ls | sed 's/^\(.\{3\}\).*/\1/' | sort | uniq -d | while read -r prefix; do ls | grep "^$prefix"; done`
    
    Этот пример похож на предыдущий, но вместо `awk` используется `sed` для извлечения первых трех символов из каждого имени файла. Остальные шаги такие же, как и в предыдущем примере.


	1. `ls`: Это команда для вывода списка файлов и каталогов в текущем рабочем каталоге.
	2. `sed 's/^\(.\{3\}\).*/\1/'`: Это использование `sed` (потокового редактора) для выполнения поиска и замены в строках. В данном случае:
	    
	    - `s/`: Это опция команды `sed`, которая указывает на начало операции замены.
	    - `^\(.\{3\}\).*`: Это регулярное выражение, которое ищет первые три символа в строке.
	        - `^`: Символ начала строки.
	        - `\(.\{3\}\)`: Это группа захвата, которая находит любой символ (`.`) повторяющийся три раза (`\{3\}`).
	        - `.*`: Любое количество любых символов после первых трех символов.
	    - `\1`: Это обратная ссылка на первую группу захвата, то есть на первые три символа. Это то, что будет выведено в результате.
	3. `sort`: Эта команда сортирует вывод в лексикографическом порядке.
	4. `uniq -d`: Эта команда выводит только повторяющиеся строки из входного потока. Опция `-d` указывает, что нужно вывести только повторяющиеся строки.
	5. `while read -r prefix; do`: Это начало цикла `while`, который читает каждую строку из входного потока и присваивает ее переменной `prefix`.
	6. `ls | grep "^$prefix"`: Эта команда использует `grep` для поиска файлов, имена которых начинаются с содержимого переменной `prefix`. Знак `^` в регулярном выражении указывает, что строка должна начинаться с указанного текста (`$prefix`).
	7. `done`: Это завершение блока цикла `while`.
