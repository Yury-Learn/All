## Текст скрипта

```bash
#!/bin/bash

# Запрос имени пользователя
read -p "Введите имя пользователя: " username

# Проверяем, существует ли уже такой пользователь
if id "$username" &>/dev/null; then
    echo "Пользователь $username уже существует."
    exit 1
fi

# Создаем пользователя
useradd $username

# Создаем каталог в /opt с именем пользователя
USER_DIR="/opt/$username"
mkdir -p $USER_DIR

# Устанавливаем права и владельца каталога
chown $username:$username $USER_DIR
chmod 700 $USER_DIR  # Только владелец имеет полный доступ

echo "Пользователь $username создан."
echo "Каталог $USER_DIR создан с полными правами для пользователя $username."
```

## Объяснение

### Создаем пользователей

1. **`read -p "Введите имя пользователя: " username`**: Запрашиваем у пользователя имя нового пользователя.
2. **`if id "$username" &>/dev/null; then ... fi`**: Проверяем, существует ли пользователь с таким именем. Если существует, сценарий завершится с сообщением об ошибке.
3. **`useradd $username`**: Создаем пользователя с введенным именем.
4. **`USER_DIR="/opt/$username"`**: Определяем путь к каталогу, который будет создан в `/opt` для этого пользователя.
5. **`mkdir -p $USER_DIR`**: Создаем каталог.
6. **`chown $username:$username $USER_DIR`**: Назначаем владельцем каталога созданного пользователя.
7. **`chmod 700 $USER_DIR`**: Устанавливаем права доступа на каталог так, чтобы только владелец имел полный доступ (чтение, запись, выполнение).

Cценарий будет запрашивать имя пользователя, создавать этого пользователя и соответствующий каталог в `/opt`, назначая ему полные права.

### Создание файлов

1. *Создание ELF-файла**:
    
    - Файл с именем пользователя и расширением `.elf` создается в его каталоге.
    - **`touch $ELF_FILE`**: Создаем пустой файл.
    - **`chmod +x $ELF_FILE`**: Делаем его исполняемым.
    - **`echo -e "#!/bin/bash\necho 'Привет от $username'" > $ELF_FILE`**: Вставляем простой скрипт в файл, который при выполнении будет выводить сообщение с именем пользователя.
    - **`chown $username:$username $ELF_FILE`**: Назначаем владельцем файла пользователя.
2. **Создание текстового файла**:
    
    - **`echo "Это текстовый файл для пользователя $username" > $TXT_FILE`**: Создаем текстовый файл и записываем в него строку с приветственным текстом.
    - **`chown $username:$username $TXT_FILE`**: Назначаем владельцем файла пользователя.
3. **Результат**:
    
    - В каталоге пользователя создаются два файла: один исполняемый файл с расширением `.elf`, второй — текстовый файл с расширением `.txt`.