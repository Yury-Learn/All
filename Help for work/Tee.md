---
tags: bash, linux
---
Команда `tee` в Linux используется для чтения данных из стандартного ввода и записи их одновременно как в стандартный вывод (обычно на экран), так и в один или несколько файлов. Это полезно, когда вы хотите одновременно увидеть результат команды и сохранить его в файл.

### Синтаксис команды:

```bash
команда | tee [опции] ФАЙЛ...
```

- **команда**: команда, результат которой вы хотите перенаправить.
- **ФАЙЛ...**: файлы, в которые будут записаны данные.

### Пример использования:

1. **Запись вывода в файл и на экран одновременно**:

```bash
echo "Hello, world!" | tee output.txt
```

- Вывод: `Hello, world!`
- Данные будут записаны в файл `output.txt` и одновременно выведены на экран.

2. **Добавление данных в файл**:
   По умолчанию `tee` перезаписывает содержимое файла. Чтобы добавить данные в файл, используется опция `-a` (append):

```bash
echo "New line" | tee -a output.txt
```

- Этот вариант добавит строку `"New line"` в конец файла `output.txt`, не перезаписывая его содержимое.

### Важные опции:

- `-a, --append`: добавляет данные в файл вместо его перезаписи.
- `-i, --ignore-interrupts`: игнорирует сигналы прерывания (например, `Ctrl+C`).

### Примеры:

1. **Перенаправление вывода команды `ls` в файл и на экран одновременно**:

```bash
ls | tee files_list.txt
```

Вывод команды `ls` будет показан на экране и записан в файл `files_list.txt`.

2. **Запись вывода `df -h` в несколько файлов и на экран**:

```bash
df -h | tee disk_usage1.txt disk_usage2.txt
```

Вывод команды `df -h` будет одновременно записан в два файла: `disk_usage1.txt` и `disk_usage2.txt`, и будет показан на экране.

### Полезность команды `tee`:

Команда `tee` удобна, когда вам нужно просматривать вывод команды в реальном времени и при этом сохранять его для дальнейшего анализа. Это особенно полезно в скриптах, где нужно вести логирование или анализировать результат выполнения команд.