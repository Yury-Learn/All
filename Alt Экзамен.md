Для выполнения задания по созданию и поддержанию журнала с информацией о владельцах исполняемых файлов в заданном каталоге, нужно реализовать три сценария: стартовый, рабочий и очищающий. Опишу каждый из них, с примерами кода и подробными инструкциями.

### Стартовый сценарий (подготовка среды)
1. **Создать пользователей**.
2. **Создать рабочий каталог**.
3. **Добавить в этот каталог файлы, принадлежащие различным пользователям**.

Пример сценария:

```bash
#!/bin/bash

# Создаем пользователей
useradd user1
useradd user2
useradd user3

# Создаем рабочий каталог
WORK_DIR="/opt/executable_files"
mkdir -p $WORK_DIR

# Создаем исполняемые файлы от имени разных пользователей
touch $WORK_DIR/file1
touch $WORK_DIR/file2
touch $WORK_DIR/file3

# Устанавливаем права и владельцев для файлов
chown user1:user1 $WORK_DIR/file1
chown user2:user2 $WORK_DIR/file2
chown user3:user3 $WORK_DIR/file3

chmod +x $WORK_DIR/file1
chmod +x $WORK_DIR/file2
chmod +x $WORK_DIR/file3

echo "Рабочее пространство создано"
```

### Рабочий сценарий (подсчет исполняемых ELF-файлов)
Этот сценарий будет подсчитывать количество ELF-файлов для каждого пользователя и записывать информацию в журнал.

1. **Сканировать рабочий каталог на наличие ELF-файлов**.
2. **Подсчитывать количество ELF-файлов для каждого пользователя**.
3. **Записывать информацию в журнал с отметкой времени**.

Пример рабочего сценария:

```bash
#!/bin/bash

WORK_DIR="/opt/executable_files"
LOG_FILE="/var/log/executable_owners.log"
CURRENT_DATE=$(date "+%Y-%m-%d %H:%M:%S")

# Подсчет ELF-файлов для каждого пользователя
echo "Запуск сценария $0 в $CURRENT_DATE" >> $LOG_FILE

for user in $(ls $WORK_DIR); do
    if [ -f "$WORK_DIR/$user" ] && [[ $(file "$WORK_DIR/$user") == *"ELF"* ]]; then
        owner=$(stat -c '%U' "$WORK_DIR/$user")
        count=$(find $WORK_DIR -type f -user $owner -exec file {} \; | grep -c "ELF")
        echo "Пользователь: $owner (UID: $(id -u $owner)), Количество ELF-файлов: $count" >> $LOG_FILE
    fi
done

echo "Сценарий завершен в $CURRENT_DATE" >> $LOG_FILE
```

### Регулярный запуск рабочего сценария

Для автоматического запуска рабочего сценария можно использовать **cron**. Например, запускать его каждые 10 минут:

```bash
*/10 * * * * /path/to/your/script.sh
```

### Очищающий сценарий
Этот сценарий будет удалять созданных пользователей, каталог и журнал.

Пример сценария:

```bash
#!/bin/bash

# Удаляем пользователей
userdel -r user1
userdel -r user2
userdel -r user3

# Удаляем рабочий каталог
rm -rf /opt/executable_files

# Удаляем журнал
rm -f /var/log/executable_owners.log

echo "Очистка выполнена"
```

### Инструкции для сценариев
1. **Запуск сценариев**: Сценарии должны запускаться от имени пользователя с правами суперпользователя (root), так как они выполняют административные задачи (создание/удаление пользователей, изменение владельцев файлов и т. д.).
2. **Настройка cron**: Для автоматизации рабочего сценария следует использовать cron, настроив его на выполнение с необходимой периодичностью.
3. **Поддержка сценариев**: Следует убедиться, что сценарии имеют права на выполнение (`chmod +x`), и что лог-файл и рабочий каталог имеют правильные права доступа для записи.

### Пояснение к периоду выполнения сценария
Период выполнения рабочего сценария зависит от требований к актуальности данных. Например, если нужно иметь актуальные данные каждые 10 минут, то достаточно настроить cron на выполнение каждые 10 минут.

### Проверка безопасности
1. **Ограничение портов**: Оставляем только порты 22 и 443, используя iptables или firewalld.
2. **Установка fail2ban**: Устанавливаем и настраиваем fail2ban для защиты от атак с подбором пароля.

Это основные шаги для выполнения задания по подготовке системы к сертификационному экзамену.